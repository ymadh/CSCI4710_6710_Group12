{% extends "base.html" %} {% block styles %}
<style>
  .graticule {
    fill: none;
    stroke: #777;
    stroke-opacity: 0.5;
    stroke-width: 0.5px;
  }

  .land {
    fill: #222;
  }

  .boundary {
    fill: none;
    stroke: #fff;
    stroke-width: 0.5px;
  }

  circle {
    fill: yellow;
  }

  .geopath {
    fill: green;
  }
</style>
{%endblock%} {% block scripts %}
<script lang="javascript">
   var width = 900;
      var height = 600;

      var projection = d3.geo.mercator();

      var svg = d3.select("body").append("svg")
          .attr("width", width)
          .attr("height", height);
      var path = d3.geo.path()
          .projection(projection);
      var g = svg.append("g");

      d3.json("http://127.0.0.1:5000/alldataapi", function(error, topology) {
          g.selectAll("path")
            .data(topojson.object(topology, topology.country)
                .geometries)
          .enter()
            .append("path")
            .attr("d", path)
      });


  // d3.json("stops_berlin.geojson", function (error, data) {
  //   // using d3.geo.path() which does all the work for you
  //   svg.append("path").datum(data).classed("geopath", true).attr("d", path);

  //   // or insert your own custom dots by hand
  //   svg
  //     .append("g")
  //     .selectAll("g")
  //     .data(data.features)
  //     .enter()
  //     .append("g")
  //     .attr("transform", function (d) {
  //       return "translate(" + projection(d.geometry.coordinates) + ")";
  //     })
  //     .append("circle")
  //     .attr("r", 1);
  // });

  // d3.select(self.frameElement).style("height", height + "px");
</script>
{% endblock %} {% block content %}
<h1>{{display_html}}</h1>

<h2>{{labels_html[0]}}</h2>

<!-- <table class="table">
  <thead>
    <tr>
      {% for item in column_html %}
      <th>{{item}}</th>
      {% endfor %}
    </tr>
  </thead>
  <tbody>
    {% for row in allData %}
    <tr>
      {% for data in row %}
      <td>{{ data }}</td>
      {% endfor %}
    </tr>
    {% endfor %}
  </tbody>
</table> -->
{% endblock %}
